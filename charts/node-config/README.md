# node-config

![Version: 0.5.0](https://img.shields.io/badge/Version-0.5.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.1.0](https://img.shields.io/badge/AppVersion-0.1.0-informational?style=flat-square)

Helm chart for configuring Kubernetes nodes via a DaemonSet init container.

**Homepage:** <https://github.com/stevehipwell/helm-charts/>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| stevehipwell | <steve.hipwell@gmail.com> |  |

## Source Code

* <https://github.com/stevehipwell/helm-charts/>

## Installing the Chart

### OCI Repository

To install the chart using the recommended OCI method you can use the following command.

```shell
helm upgrade --install node-config oci://ghcr.io/stevehipwell/helm-charts/node-config --version 0.5.0
```

#### Verification

As the OCI chart release is signed by [Cosign](https://github.com/sigstore/cosign) you can verify the chart before installing it by running the following command.

```shell
cosign verify --certificate-oidc-issuer https://token.actions.githubusercontent.com --certificate-identity-regexp 'https://github\.com/action-stars/helm-workflows/\.github/workflows/release\.yaml@.+' --certificate-github-workflow-repository stevehipwell/helm-charts --certificate-github-workflow-name Release ghcr.io/stevehipwell/helm-charts/node-config:0.5.0
```

### Non-OCI Repository

Alternatively you can use the legacy non-OCI method via the following commands.

```shell
helm repo add stevehipwell https://stevehipwell.github.io/helm-charts/
helm upgrade --install node-config stevehipwell/node-config --version 0.5.0
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity.nodeAffinity | object | `{}` | Node affinity for scheduling. |
| commonLabels | object | `{}` | Labels to add to all chart resources. |
| config.command | list | `["sh","-c","/opt/config.sh"]` | Command for the config container |
| config.env | list | `[]` | Environment variables for the config container. |
| config.extraVolumeMounts | list | `[]` | Extra volume mounts for the config container. |
| config.image.pullPolicy | string | `"IfNotPresent"` | Image pull policy for the config container. |
| config.image.repository | string | `"docker.io/alpine"` | Image repository for the config container. |
| config.image.tag | string | `"latest"` | Image tag for the config container |
| config.resources | object | `{}` | Resources for the config container. |
| config.securityContext | object | See _values.yaml_ | Security context for the config container. |
| extraVolumes | list | `[]` | Extra volumes for the pod. |
| fullnameOverride | string | `nil` | Override the full name of the chart. |
| hostPID | bool | `false` | If `true`, allow the pod access to the host process ID namespace. |
| imagePullSecrets | list | `[]` | Image pull secrets. |
| nameOverride | string | `nil` | Override the name of the chart. |
| nodeSelector | object | `{"kubernetes.io/os":"linux"}` | Node selector labels for scheduling. |
| pause.image.pullPolicy | string | `"IfNotPresent"` | Image pull policy for the pause container. |
| pause.image.repository | string | `"registry.k8s.io/pause"` | Image repository for the pause container. |
| pause.image.tag | float | `3.9` | Image tag for the pause container |
| pause.resources | object | `{"limits":{"cpu":"100m","memory":"8Mi"},"requests":{"cpu":"10m","memory":"8Mi"}}` | Resources for the pause container. |
| podAnnotations | object | `{}` | Annotations to add to the pod. |
| podLabels | object | `{}` | Labels to add to the pod. |
| podSecurityContext | object | See _values.yaml_ | Security context for the pod. |
| priorityClassName | string | `nil` | Priority class name for the pod. |
| scripts | list | See _values.yaml_ | Scripts to create and mount. |
| serviceAccount.annotations | object | `{}` | Annotations to add to the service account. |
| serviceAccount.create | bool | `true` | If `true`, create a new `ServiceAccount`. |
| serviceAccount.labels | object | `{}` | Labels to add to the service account. |
| serviceAccount.name | string | `nil` | If this is set and `serviceAccount.create` is `true` this will be used for the created `ServiceAccount` name, if set and `serviceAccount.create` is `false` then this will define an existing `ServiceAccount` to use. |
| terminationGracePeriodSeconds | int | `nil` | Termination grace period for the pod in seconds. |
| tolerations | list | `[]` | Node taints that will be tolerated for scheduling. |

----------------------------------------------

Autogenerated from chart metadata using [helm-docs](https://github.com/norwoodj/helm-docs/).
